<script type="text/javascript">
  <%  if params[:dataId] && @issue %>
    var item = parent.D[<%= params[:dataId] %>];
  <% elsif @issue %>
    var item = <%=@issue.to_dashboard%>;
  <% end  %>
  var credit_base = '<%= project.dpp %>';
  var projectId = '<%= project.identifier %>';
  var credits_to_points_array = <%= Setting::CREDITS_TO_POINTS.to_json %>;
  var currentUserLogin = '<%= User.current.login %>';
  var currentUserId = '<%= User.current.id %>';
  var currentUserIsCore = '<%= User.current.core_member_of?(project) %>';
  var currentUserIsMember = '<%= User.current.member_of?(project) %>';
  var point_factor = <%= Setting::POINT_FACTOR.to_json %>;  
  var startable_priority_tiers = <%= Setting::NUMBER_OF_STARTABLE_PRIORITY_TIERS %>;
  var credits_enabled = <%= project.credits_enabled? %>;
  var ISSUE_COUNT = <%= project.issue_count %>
  var ANONYMOUS_USER_ID = <%= User.anonymous.id %>;
  var currentUserCanEditIssue = <%= User.current.allowed_to?({:action => :edit_issues}, project) != nil %>;

  var standard_trackers = function() {
      var trackers = <%= Tracker.all.to_json %>

      var trackers_object = {};

      for(var i=0; i<trackers.length; i++) {
	  trackers_object[trackers[i].name] = trackers[i];
      }

      return trackers_object;

  }();

  var hourly_types = <%= project.hourly_types.to_json(:methods => :name_with_rates) %>

</script>
