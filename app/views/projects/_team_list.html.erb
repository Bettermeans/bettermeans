<% roles = Role.find_all_givable(Role::LEVEL_PROJECT)
   members = project.member_principals.find(:all, :include => [:roles, :user]).sort 
   #TODO: is there way to include incoming_team_points here, so we're not calling it once for every team member below?
   %>

<div id="team_list">
<% if members.any? %>
<table class="list members">
	<thead>
	  <th>&nbsp;</th>
	  <th><%#= l(:label_user) %> <%#= l(:label_group) %></th>
	  <th><%#= l(:label_role_plural) %></th>
	</thead>
	<tbody>
	<% members.each do |member| %>
	<% next if member.new_record? %>
	<%= render :partial => 'team_list_member', :locals => {:member => member} %>
	</tbody>
<% end; reset_cycle %>
</table>
<% else %>
<p class="nodata"><%= l(:label_no_data) %></p>
<% end %>
</div>